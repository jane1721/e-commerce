# 프로젝트 중간 회고록: E-Commerce Rest API 설계 및 개발
**기간:** 2025.01.02 ~ 2025.01.17  
**작성일:** 2025.01.17

---

## 1. 프로젝트 개요
- **프로젝트 이름:** E-Commerce Rest API 설계 및 개발
- **목적:** RESTful API 기반의 이커머스 시스템을 설계하고 개발하여 잔액 관리, 주문/결제, 인기 상품 조회와 같은 핵심 기능을 구현하고, 동시성 제어와 테스트를 통해 안정성있는 서비스를 제공하는 것을 목표로 한다.
- **마일스톤 구성:**
    1. **마일스톤 1:** 요구사항 분석 및 설계
    2. **마일스톤 2:** 기본 기능 개발
    3. **마일스톤 3:** 심화 기능 개발

---

## 2. 마일스톤별 진행 내용 및 회고

### 마일스톤 1: 요구사항 분석 및 설계
#### 주요 작업:
- **시나리오 요구사항 분석:** 시퀀스 다이어그램, 플로우 차트 작성
- **데이터베이스 설계:** ERD 작성
- **API 설계:** API 명세서 작성, Mock API 추가, Swagger UI 설정

#### 느낀 점:
- API 명세 작성을 통해 요청과 응답을 미리 정의하고 Mock API 와 Swagger UI를 통해 개발 초기에 API 구조를 명확히 하여, 도메인 개발 시 비즈니스 로직에 특히 집중할 수 있었다.
- 시스템 흐름을 명확히 이해할 수 있었지만, 시퀀스 다이어그램 작성 및 수정 과정에서 예상보다 시간이 많이 소요되었다.

#### 문제점과 해결:
- **문제점:** 시퀀스 다이어그램 누락 부분 재작성 및 비즈니스 로직 수정 과정이 반복되면서 시간 지연 발생
- **해결:** 피어 리뷰 및 코칭을 통해 설계를 점점 명확히 개선하였으며, 설계 경험이 쌓이면 초기 설계의 완성도를 높이고 수정 작업을 최소화할 수 있을 것으로 기대된다.

---

### 마일스톤 2: 기본 기능 개발
#### 주요 작업:
- **API 개발:**
    - 잔액 충전/조회
    - 상품 목록 조회
    - 주문/결제
    - 인기 판매 상품 조회
    - 선착순 쿠폰 발급
    - 보유 쿠폰 목록 조회
- **테스트 작성:**
    - 도메인 단위 테스트
    - 유즈케이스 통합 테스트

#### 느낀 점:
- 단위 테스트와 통합 테스트를 작성하며 코드의 품질을 높이고 예상치 못한 오류를 사전에 방지할 수 있었다.
- 잔액 관리와 주문 프로세스를 설계하면서 트랜잭션 처리와 데이터 일관성에 대해 깊이 고민하게 되었다.
- 모든 도메인의 단위 테스트 작성을 통해 코드 변경에 대한 안정성을 확보할 수 있었다.

#### 문제점과 해결:
- **문제점:** 선착순 쿠폰 발급 기능에서 다중 요청 시 DeadLock 문제가 발생
- **해결:** DB Lock 을 통해 중복 발급을 방지하여 동시성 문제를 해결하고, 테스트 케이스를 작성하여 검증하였다.

---

### 마일스톤 3: 심화 기능 개발
#### 주요 작업:
- 공통 응답 설정
- 글로벌 에러 핸들러 및 에러 코드 적용
- 필터 구현을 통한 로깅 적용
- 인터셉터 구현을 통한 사용자 검증
- DB Lock 을 통한 동시성 제어
- 동시성 통합 테스트 작성

#### 느낀 점:
- 심화 기능을 통해 시스템의 안정성과 확장성을 더욱 높일 수 있었다.
- 동시성 문제를 해결하면서 트랜잭션과 Locking 메커니즘을 이해하였다.
- 에러 핸들러를 체계적으로 설계하여 코드의 가독성과 적절한 에러 로그로 유지보수성을 높일 수 있었다.

#### 문제점과 해결:
- **문제점:** 동시성 통합 테스트에서 결제 처리에서 예외 처리 로직이 누락된 부분 발견
- **해결:** 테스트 케이스를 보완하고, 예외 처리 로직을 추가로 작성하여 검증하였다.

---

## 3. 전체적인 회고
- **성과:** 
    - 요구사항 분석부터 심화 기능 개발까지 체계적으로 진행하며 안정적인 API 설계를 달성하였다.
    - 테스트를 통해 코드 품질을 높이고 잠재적인 오류를 사전에 방지할 수 있었다.
- **한계:** 
    - 시간 부족으로 성능 최적화에 충분히 집중하지 못했다.
- **개선점:** 
    - 성능 최적화를 위한 추가 분석과 개선 작업을 진행할 필요가 있다.
    - 더 복잡한 시나리오에 대한 테스트 케이스를 설계해야 한다.

---

## 4. 배운 점과 느낀 점
- 트랜잭션 관리와 동시성 제어에 대한 실무적인 경험을 쌓을 수 있었다.
- 테스트 코드 작성의 중요성과 작성 방법을 체득하며 코드 품질을 높이는 방법을 배웠다.
- 설계 단계에서 충분히 시간을 투자하면 개발 단계에서 많은 시간을 절약할 수 있다는 점을 깨달았다.

---

## 5. 다음 목표 및 계획
- 성능 최적화 및 부하 테스트를 통해 시스템의 안정성을 더욱 높이고자 한다.
- 이커머스 도메인의 더 다양한 요구사항 분석 및 설계를 통해 복잡한 비즈니스 로직 설계 및 구현 역량을 강화할 계획이다.
- Docker 와 CI/CD를 활용하여 배포 및 운영 자동화에 도전해 보고 싶다.
- GitHub Actions 를 활용하여 테스트 자동화를 구현하고, 코드 품질과 안정성을 지속적으로 검증할 수 있는 파이프라인을 구축해 보고 싶다.

---

